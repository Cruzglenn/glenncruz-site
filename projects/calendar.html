<html><head><base href="." />
    <meta charset="UTF-8">
    <title>Resort Reservation Calendar</title>
    <style>
    :root {
      --primary: #2c3e50;
      --secondary: #3498db;
      --highlight: #e74c3c;
      --light: #ecf0f1;
    }
    
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: var(--light);
    }
    
    .calendar-container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 10px;
    }
    
    .calendar-day {
      background: white;
      border-radius: 8px;
      padding: 10px;
      min-height: 120px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .day-header {
      text-align: center;
      font-weight: bold;
      color: var(--primary);
      border-bottom: 2px solid var(--secondary);
      padding-bottom: 5px;
      margin-bottom: 10px;
    }
    
    .time-slot {
      padding: 5px;
      margin: 5px 0;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .time-slot:hover {
      background-color: var(--light);
    }
    
    .time-slot.reserved {
      background-color: var(--highlight);
      color: white;
    }
    
    .weekday-header {
      text-align: center;
      font-weight: bold;
      padding: 10px;
      background: var(--primary);
      color: white;
      border-radius: 8px;
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    
    .modal-content {
      background-color: white;
      margin: 15% auto;
      padding: 20px;
      width: 80%;
      max-width: 500px;
      border-radius: 8px;
    }
    
    .close {
      float: right;
      cursor: pointer;
      font-size: 24px;
    }
    
    button {
      background-color: var(--secondary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: var(--primary);
    }
    
    .reservation-details {
      background-color: var(--light);
      padding: 10px;
      margin-top: 5px;
      border-radius: 4px;
      font-size: 0.9em;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
    
    .form-group input {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    </style>
    </head>
    <body>
    <div class="calendar-container">
      <div class="calendar-header">
        <button id="prevMonth">Previous Month</button>
        <h2 id="currentMonth">December 2023</h2>
        <button id="nextMonth">Next Month</button>
      </div>
      
      <div class="calendar-grid" id="weekdays">
        <!-- Weekday headers will be inserted here -->
      </div>
      
      <div class="calendar-grid" id="calendar">
        <!-- Calendar days will be inserted here -->
      </div>
    </div>
    
    <div id="reservationModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Make a Reservation</h3>
        <p id="selectedDate"></p>
        <p id="selectedTime"></p>
        <form id="reservationForm">
          <div class="form-group">
            <label for="guestName">Guest Name:</label>
            <input type="text" id="guestName" required>
          </div>
          <div class="form-group">
            <label for="amount">Amount (php):</label>
            <input type="number" id="amount" required min="0">
          </div>
          <button type="submit">Confirm Reservation</button>
        </form>
      </div>
    </div>
    
    <div id="detailsModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Reservation Details</h3>
        <div id="reservationDetails"></div>
      </div>
    </div>
    
    <script>
    class ResortCalendar {
      constructor() {
        this.currentDate = new Date();
        this.reservations = new Map();
        this.weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
        this.init();
      }
    
      init() {
        this.renderWeekdays();
        this.renderCalendar();
        this.setupEventListeners();
      }
    
      renderWeekdays() {
        const weekdaysContainer = document.getElementById('weekdays');
        weekdaysContainer.innerHTML = this.weekdays.map(day => 
          `<div class="weekday-header">${day}</div>`
        ).join('');
      }
    
      renderCalendar() {
        const calendar = document.getElementById('calendar');
        const year = this.currentDate.getFullYear();
        const month = this.currentDate.getMonth();
        
        const firstDay = new Date(year, month, 1);
        const lastDay = new Date(year, month + 1, 0);
        
        document.getElementById('currentMonth').textContent = 
          `${firstDay.toLocaleString('default', { month: 'long' })} ${year}`;
    
        calendar.innerHTML = '';
        
        for (let i = 0; i < firstDay.getDay(); i++) {
          calendar.appendChild(this.createEmptyDay());
        }
    
        for (let day = 1; day <= lastDay.getDate(); day++) {
          calendar.appendChild(this.createDayElement(day, month, year));
        }
      }
    
      createEmptyDay() {
        const div = document.createElement('div');
        div.className = 'calendar-day';
        return div;
      }
    
      createDayElement(day, month, year) {
        const div = document.createElement('div');
        div.className = 'calendar-day';
        
        const date = `${year}-${(month + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
        
        div.innerHTML = `
          <div class="day-header">${day}</div>
          <div class="time-slot" data-date="${date}" data-time="AM">AM Slot</div>
          <div class="time-slot" data-date="${date}" data-time="PM">PM Slot</div>
        `;
    
        const amKey = `${date}-AM`;
        const pmKey = `${date}-PM`;
        
        if (this.reservations.has(amKey)) {
          const amSlot = div.querySelector('[data-time="AM"]');
          amSlot.classList.add('reserved');
          amSlot.addEventListener('click', () => this.showReservationDetails(amKey));
        }
        if (this.reservations.has(pmKey)) {
          const pmSlot = div.querySelector('[data-time="PM"]');
          pmSlot.classList.add('reserved');
          pmSlot.addEventListener('click', () => this.showReservationDetails(pmKey));
        }
    
        return div;
      }
    
      setupEventListeners() {
        document.getElementById('prevMonth').addEventListener('click', () => {
          this.currentDate.setMonth(this.currentDate.getMonth() - 1);
          this.renderCalendar();
        });
    
        document.getElementById('nextMonth').addEventListener('click', () => {
          this.currentDate.setMonth(this.currentDate.getMonth() + 1);
          this.renderCalendar();
        });
    
        document.getElementById('calendar').addEventListener('click', (e) => {
          if (e.target.classList.contains('time-slot') && !e.target.classList.contains('reserved')) {
            this.showReservationModal(e.target.dataset.date, e.target.dataset.time);
          }
        });
    
        const modals = document.querySelectorAll('.modal');
        document.querySelectorAll('.close').forEach(closeBtn => {
          closeBtn.addEventListener('click', () => {
            modals.forEach(modal => modal.style.display = 'none');
          });
        });
    
        window.addEventListener('click', (e) => {
          modals.forEach(modal => {
            if (e.target === modal) {
              modal.style.display = 'none';
            }
          });
        });
    
        document.getElementById('reservationForm').addEventListener('submit', (e) => {
          e.preventDefault();
          this.makeReservation();
        });
      }
    
      showReservationModal(date, time) {
        const modal = document.getElementById('reservationModal');
        document.getElementById('selectedDate').textContent = `Date: ${date}`;
        document.getElementById('selectedTime').textContent = `Time: ${time}`;
        modal.dataset.date = date;
        modal.dataset.time = time;
        modal.style.display = 'block';
      }
    
      showReservationDetails(key) {
        const reservation = this.reservations.get(key);
        if (reservation) {
          const modal = document.getElementById('detailsModal');
          const details = document.getElementById('reservationDetails');
          details.innerHTML = `
            <p><strong>Date:</strong> ${key.split('-').slice(0, 3).join('-')}</p>
            <p><strong>Time:</strong> ${key.split('-')[3]}</p>
            <p><strong>Guest Name:</strong> ${reservation.guestName}</p>
            <p><strong>Amount Paid:</strong> $${reservation.amount}</p>
          `;
          modal.style.display = 'block';
        }
      }
    
      makeReservation() {
        const modal = document.getElementById('reservationModal');
        const date = modal.dataset.date;
        const time = modal.dataset.time;
        const guestName = document.getElementById('guestName').value;
        const amount = document.getElementById('amount').value;
        
        const key = `${date}-${time}`;
        this.reservations.set(key, {
          guestName,
          amount
        });
        
        modal.style.display = 'none';
        document.getElementById('guestName').value = '';
        document.getElementById('amount').value = '';
        this.renderCalendar();
      }
    }
    
    document.addEventListener('DOMContentLoaded', () => {
      new ResortCalendar();
    });
    </script>
    </body></html>